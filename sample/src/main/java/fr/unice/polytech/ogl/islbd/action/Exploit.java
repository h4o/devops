package fr.unice.polytech.ogl.islbd.action;

import org.json.simple.JSONObject;

import fr.unice.polytech.ogl.islbd.objective.BasicResource;

/**
 * Create an exploit action.
 * 03/22/2015 This action will exploit some resources on the tile the bot is.
 * @author user
 *
 */
public class Exploit extends Action{

	/**
	 * Exploit constructor - Create the Exploit action. An exploitation need the resource we want in parameter
	 * @param resource
	 */
	public Exploit(BasicResource resource){
		super("exploit");
		if (resource!= null)
			addParameter("resource", resource.toString());
        else if (resource == null)
        	addParameter("resource", "");
	}
	
	/**
	 * return the resource specified in parameter
	 * @return string
	 */
	public BasicResource getResource(){
		return BasicResource.getResource(this.getParameter("resource").toString());
	}

	public int getAmount() {
		JSONObject extras = (JSONObject) this.getConsequence().get("extras");
		long amount;
		amount = (Long) extras.get("amount");
		return (int) amount;
	}
}
